'''
Created on 2018年4月8日

@author: zhang
'''
from django.http import HttpResponse
import datetime
from django.http.response import Http404
from conda_build import render

def hello(request):
    return HttpResponse("Hello world")

def current_datetime(requset):
    now = datetime.datetime.now()
    html = render(requset,'current_datetime.html',{'current_date': now})
    return HttpResponse(html)

def hours_ahead(request, offset):
    try:
        offset = int(offset)
    except ValueError:
        raise Http404()
    now = datetime.datetime.now()
    dt = now + datetime.timedelta(hours=offset)
    html = render(request,'hours_ahead.html',{'hour_offset':offset, 'next_time':dt})
    return HttpResponse(html)

